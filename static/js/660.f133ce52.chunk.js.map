{"version":3,"file":"static/js/660.f133ce52.chunk.js","mappings":"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","sources":["Pages/Admin/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { collection, getDocs, deleteDoc, doc } from \"firebase/firestore\";\r\nimport { db } from \"../../Utilis/Firebase\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport FoodForm from \"../../Components/FoodForm\";\r\nimport {\r\n  FaBars,\r\n  FaTimes,\r\n  FaUtensils,\r\n  FaShoppingCart,\r\n  FaCog,\r\n} from \"react-icons/fa\";\r\nimport Footer from \"../../Components/Footer\"; // Ensure Footer is imported\r\n\r\nconst Admin = () => {\r\n  const [menuData, setMenuData] = useState([]);\r\n  const [categories, setCategories] = useState([\"All\"]);\r\n  const [selectedCategory, setSelectedCategory] = useState(\"All\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [isAddFormVisible, setIsAddFormVisible] = useState(false);\r\n  const [activeSidebarOption, setActiveSidebarOption] = useState(\"Manage Menu\");\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [editFoodData, setEditFoodData] = useState(null);\r\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchMenu = async () => {\r\n      const querySnapshot = await getDocs(collection(db, \"Menu\"));\r\n      const data = querySnapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n      setMenuData(data);\r\n\r\n      const uniqueCategories = [\r\n        \"All\",\r\n        ...new Set(data.map((item) => item.category)),\r\n      ];\r\n      setCategories(uniqueCategories);\r\n    };\r\n\r\n    fetchMenu();\r\n  }, []);\r\n\r\n  const sidebarOptions = [\r\n    { name: \"Manage Menu\", icon: <FaUtensils /> },\r\n    { name: \"Orders\", icon: <FaShoppingCart /> },\r\n    { name: \"Settings\", icon: <FaCog /> },\r\n  ];\r\n\r\n  const handleDeleteFood = async (id) => {\r\n    if (!window.confirm(\"Are you sure you want to delete this food item?\"))\r\n      return;\r\n\r\n    try {\r\n      await deleteDoc(doc(db, \"Menu\", id));\r\n      setMenuData((prev) => prev.filter((item) => item.id !== id));\r\n      toast.success(\"Food item deleted successfully!\");\r\n    } catch (error) {\r\n      toast.error(\"Error deleting food item.\");\r\n    }\r\n  };\r\n\r\n  const handleEditFood = (food) => {\r\n    setEditMode(true);\r\n    setEditFoodData(food);\r\n    setIsAddFormVisible(true);\r\n  };\r\n\r\n  const filteredMenu = menuData.filter((item) => {\r\n    const matchesCategory =\r\n      selectedCategory === \"All\" || item.category === selectedCategory;\r\n    const matchesSearchTerm = item.name\r\n      .toLowerCase()\r\n      .includes(searchTerm.toLowerCase());\r\n    return matchesCategory && matchesSearchTerm;\r\n  });\r\n\r\n  const columns = [\r\n    { name: \"Name\", selector: (row) => row.name, sortable: true },\r\n    { name: \"Price\", selector: (row) => `$${row.price}`, sortable: true },\r\n    { name: \"Category\", selector: (row) => row.category, sortable: true },\r\n    {\r\n      name: \"Actions\",\r\n      cell: (row) => (\r\n        <>\r\n          <button\r\n            onClick={() => handleEditFood(row)}\r\n            className=\"bg-yellow-500 text-white px-2 py-1 rounded-md mr-2\"\r\n          >\r\n            Edit\r\n          </button>\r\n          <button\r\n            onClick={() => handleDeleteFood(row.id)}\r\n            className=\"bg-red-500 text-white px-2 py-1 rounded-md\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"flex h-screen overflow-hidden\">\r\n      <ToastContainer />\r\n\r\n      {/* Sidebar */}\r\n      <aside\r\n        className={`bg-gray-800 text-white h-full p-4 fixed transition-all duration-300 ${\r\n          isSidebarCollapsed ? \"w-16\" : \"w-64\"\r\n        } flex flex-col`}\r\n      >\r\n        {/* Sidebar Toggle Button */}\r\n        <button\r\n          onClick={() => setIsSidebarCollapsed(!isSidebarCollapsed)}\r\n          className=\"text-white mb-4 p-2 rounded-md hover:bg-gray-700 transition duration-200 flex items-center justify-between\"\r\n        >\r\n          {isSidebarCollapsed ? <FaBars size={20} /> : <FaTimes size={20} />}\r\n          {!isSidebarCollapsed && <span>Close</span>}\r\n        </button>\r\n\r\n        {/* Sidebar Options */}\r\n        <ul className=\"space-y-4\">\r\n          {sidebarOptions.map((option) => (\r\n            <li\r\n              key={option.name}\r\n              onClick={() => setActiveSidebarOption(option.name)}\r\n              className={`p-2 rounded cursor-pointer flex items-center transition duration-200 ${\r\n                activeSidebarOption === option.name\r\n                  ? \"bg-gray-700 text-yellow-400\"\r\n                  : \"hover:bg-gray-700\"\r\n              }`}\r\n            >\r\n              <span className=\"text-xl\">{option.icon}</span>\r\n              {!isSidebarCollapsed && (\r\n                <span className=\"ml-3\">{option.name}</span>\r\n              )}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </aside>\r\n\r\n      {/* Main Content Wrapper */}\r\n      <div\r\n        className={`flex-1 flex flex-col transition-all duration-300 ${\r\n          isSidebarCollapsed ? \"ml-16\" : \"ml-64\"\r\n        }`}\r\n      >\r\n        {/* Only 1 Scrollbar here */}\r\n        <main className=\"flex-1 p-6 bg-gray-100 overflow-y-auto\">\r\n          <h2 className=\"text-xl font-bold mb-4\">{activeSidebarOption}</h2>\r\n\r\n          {activeSidebarOption === \"Manage Menu\" && (\r\n            <div>\r\n              {/* Add New Button */}\r\n              <button\r\n                onClick={() => {\r\n                  setIsAddFormVisible(!isAddFormVisible);\r\n                  setEditMode(false);\r\n                  setEditFoodData(null);\r\n                }}\r\n                className=\"bg-blue-500 text-white px-4 py-2 rounded-md mb-6\"\r\n              >\r\n                {isAddFormVisible ? \"Cancel\" : \"Add New Food\"}\r\n              </button>\r\n\r\n              {/* Search and Filter */}\r\n              <div className=\"flex items-center gap-4 mb-6\">\r\n                <div>\r\n                  <label className=\"block mb-2 font-semibold\">\r\n                    Filter by Category:\r\n                  </label>\r\n                  <select\r\n                    value={selectedCategory}\r\n                    onChange={(e) => setSelectedCategory(e.target.value)}\r\n                    className=\"border rounded-md p-2\"\r\n                  >\r\n                    {categories.map((category, index) => (\r\n                      <option key={index} value={category}>\r\n                        {category}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <label className=\"block mb-2 font-semibold\">Search:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    placeholder=\"Search by name...\"\r\n                    className=\"border rounded-md p-2 w-full\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Single Scrollable Data Table */}\r\n              <div className=\"bg-white p-4 rounded-md shadow-md\">\r\n                <DataTable\r\n                  title=\"Menu Items\"\r\n                  columns={columns}\r\n                  data={filteredMenu}\r\n                  pagination\r\n                  highlightOnHover\r\n                  striped\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n"],"names":["Admin","menuData","setMenuData","useState","categories","setCategories","selectedCategory","setSelectedCategory","searchTerm","setSearchTerm","isAddFormVisible","setIsAddFormVisible","activeSidebarOption","setActiveSidebarOption","editMode","setEditMode","editFoodData","setEditFoodData","isSidebarCollapsed","setIsSidebarCollapsed","useEffect","async","data","getDocs","collection","db","docs","map","doc","_objectSpread","id","uniqueCategories","Set","item","category","fetchMenu","sidebarOptions","name","icon","_jsx","FaUtensils","FaShoppingCart","FaCog","filteredMenu","filter","matchesCategory","matchesSearchTerm","toLowerCase","includes","columns","selector","row","sortable","concat","price","cell","_jsxs","_Fragment","children","onClick","handleEditFood","food","className","window","confirm","deleteDoc","prev","toast","success","error","handleDeleteFood","ToastContainer","FaBars","size","FaTimes","option","value","onChange","e","target","index","type","placeholder","DataTable","title","pagination","highlightOnHover","striped"],"sourceRoot":""}